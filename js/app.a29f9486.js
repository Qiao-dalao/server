(function(e){function t(t){for(var i,n,c=t[0],s=t[1],l=t[2],d=0,u=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);m&&m(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},o={app:0},r=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-01caaa18":"de269856","chunk-1c618407":"39962780","chunk-28bb3c5e":"f5d7a9ba","chunk-29665654":"f61a6be8","chunk-3ed030ba":"5c976359","chunk-4c874e45":"66c65653","chunk-50883b6c":"8a5c170f","chunk-52799aea":"c352ea01","chunk-a5b083ae":"cae74aec","chunk-2d21844d":"a9acaf78","chunk-c3e2665a":"3c086945"}[e]+".js"}function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a={"chunk-1c618407":1,"chunk-29665654":1,"chunk-3ed030ba":1,"chunk-4c874e45":1,"chunk-50883b6c":1,"chunk-52799aea":1,"chunk-a5b083ae":1,"chunk-c3e2665a":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var i="css/"+({}[e]||e)+"."+{"chunk-01caaa18":"31d6cfe0","chunk-1c618407":"8f4d12e4","chunk-28bb3c5e":"31d6cfe0","chunk-29665654":"eeeacae9","chunk-3ed030ba":"b362c0a5","chunk-4c874e45":"9ce91e05","chunk-50883b6c":"9a32f0cd","chunk-52799aea":"cdfe216a","chunk-a5b083ae":"b613032a","chunk-2d21844d":"31d6cfe0","chunk-c3e2665a":"7ebe56da"}[e]+".css",o=s.p+i,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var l=r[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===i||d===o))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){l=u[c],d=l.getAttribute("data-href");if(d===i||d===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var i=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete n[e],m.parentNode.removeChild(m),a(r)},m.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){n[e]=0})));var i=o[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,a){i=o[e]=[t,a]}));t.push(i[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(m);var a=o[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",u.name="ChunkLoadError",u.type=i,u.request=n,a[1](u)}o[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var m=d;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("034f"),a("2877")),c={},s=Object(r["a"])(c,n,o,!1,null,null,null),l=s.exports,d=(a("d3b7"),a("8c4f")),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home",staticStyle:{width:"100%","overflow-x":"hidden"}},[i("div",{staticClass:"title"},[e._v("晋环科源员工信息采集 ")]),i("van-form",{on:{submit:e.onSubmit}},[i("div",{staticClass:"unTable"},[i("div",{staticClass:"van-cell van-field van-cell--required"},[i("div",{staticClass:"van-cell__title van-field__label"},[i("span",[e._v("照片")])]),i("div",{staticStyle:{height:"80px",position:"relative"}},[e.showUploadPhoto?i("van-uploader",{staticStyle:{float:"left"},attrs:{multiple:"","preview-image":!1,"max-count":1,"after-read":e.photoEmployees,"before-delete":e.deletePhoto}}):e._e(),e.a["url"]?i("div",{staticStyle:{position:"relative",width:"80px",height:"80px",float:"left"}},[i("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.a["url"],alt:""},on:{click:function(t){return e.yulan(e.a["url"])}}}),i("img",{staticStyle:{position:"absolute",right:"-8px",top:"-8px",width:"20px"},attrs:{src:a("cd5c"),alt:""},on:{click:e.delPhoto}})]):e._e(),i("span",{staticStyle:{"font-size":"12px",color:"rgb(200, 201, 204)",display:"block",width:"140px","margin-left":"20px",float:"left",position:"absolute",left:"70px"}},[e._v("(请上传证件照或工作照)")]),i("br"),i("van-loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingPhoto,expression:"isLoadingPhoto"}],staticStyle:{height:"50px"},attrs:{type:"spinner"}})],1)]),i("van-field",{ref:"username",attrs:{label:"账号",required:"",placeholder:"该账号用于后期登录系统,最少六位",clearable:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}}),i("van-field",{ref:"department",staticClass:"tree",attrs:{label:"部门",required:"",readonly:"",placeholder:"请选择部门",clearable:""},on:{"click-input":function(t){return e.showPicker("department")}},model:{value:e.formData.department,callback:function(t){e.$set(e.formData,"department",t)},expression:"formData.department"}}),i("van-field",{ref:"role",staticClass:"tree",attrs:{label:"职务",required:"",readonly:"",placeholder:"请选择职务",clearable:""},on:{"click-input":function(t){return e.showPicker("role")}},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}}),i("van-field",{ref:"nickname",attrs:{label:"姓名",required:"",maxlength:"10",placeholder:"请输入姓名",clearable:""},model:{value:e.formData.nickname,callback:function(t){e.$set(e.formData,"nickname",t)},expression:"formData.nickname"}}),i("van-field",{ref:"work_num",attrs:{label:"工号",maxlength:"3",type:"number",placeholder:"请输入工号",clearable:""},model:{value:e.formData.work_num,callback:function(t){e.$set(e.formData,"work_num",t)},expression:"formData.work_num"}}),i("van-field",{ref:"mobile",attrs:{label:"手机号",required:"",placeholder:"请输入手机号",type:"number",clearable:""},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}}),i("van-field",{ref:"email",attrs:{required:"",label:"EMail",placeholder:"请输入EMail",clearable:""},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}}),i("van-field",{ref:"id_card",attrs:{label:"身份证号",required:"",placeholder:"请输入身份证号",clearable:""},model:{value:e.formData.id_card,callback:function(t){e.$set(e.formData,"id_card",t)},expression:"formData.id_card"}}),i("van-field",{ref:"join_time",attrs:{readonly:"",required:"",label:"入职时间",placeholder:"请选择入职时间",clearable:""},on:{"click-input":function(t){return e.showPopup("join_date")}},model:{value:e.formData.join_date,callback:function(t){e.$set(e.formData,"join_date",t)},expression:"formData.join_date"}}),i("van-field",{attrs:{readonly:"",label:"入党时间",placeholder:"请选择入党时间",clearable:""},on:{"click-input":function(t){return e.showPopup("join_party_date")}},model:{value:e.formData.join_party_date,callback:function(t){e.$set(e.formData,"join_party_date",t)},expression:"formData.join_party_date"}}),i("van-field",{ref:"jiguan",attrs:{required:"",label:"籍贯",readonly:"",placeholder:"请选择籍贯",clearable:""},on:{"click-input":function(t){return e.showArea("jiguan")}},model:{value:e.formData.jiguan,callback:function(t){e.$set(e.formData,"jiguan",t)},expression:"formData.jiguan"}}),i("van-field",{ref:"nation",attrs:{label:"民族",required:"",readonly:"",placeholder:"请选择民族",clearable:""},on:{"click-input":function(t){return e.showPicker("nation")}},model:{value:e.formData.nation,callback:function(t){e.$set(e.formData,"nation",t)},expression:"formData.nation"}}),i("van-field",{ref:"blood_type",attrs:{label:"血型",required:"",readonly:"",placeholder:"请选择血型",clearable:""},on:{"click-input":function(t){return e.showPicker("blood_type")}},model:{value:e.formData.blood_type,callback:function(t){e.$set(e.formData,"blood_type",t)},expression:"formData.blood_type"}}),i("van-field",{ref:"zhenzhimianmao",attrs:{label:"政治面貌",required:"",readonly:"",placeholder:"请选择政治面貌",clearable:""},on:{"click-input":function(t){return e.showPicker("zhengzhimianmao")}},model:{value:e.formData.zhengzhimianmao,callback:function(t){e.$set(e.formData,"zhengzhimianmao",t)},expression:"formData.zhengzhimianmao"}}),i("van-field",{ref:"marriage",attrs:{label:"婚姻状况",required:"",readonly:"",placeholder:"请选择婚姻状况",clearable:""},on:{"click-input":function(t){return e.showPicker("marriage")}},model:{value:e.formData.marriage,callback:function(t){e.$set(e.formData,"marriage",t)},expression:"formData.marriage"}}),i("van-field",{ref:"family",attrs:{label:"家庭住址",required:"",readonly:"",placeholder:"请选择家庭住址",clearable:""},on:{"click-input":function(t){return e.showArea("family")}},model:{value:e.formData.family,callback:function(t){e.$set(e.formData,"family",t)},expression:"formData.family"}}),i("van-field",{ref:"family_address",attrs:{label:"详细住址",required:"",maxlength:"100",placeholder:"请输入家庭所在街道、门牌号等",clearable:""},model:{value:e.formData.family_address_detail,callback:function(t){e.$set(e.formData,"family_address_detail",t)},expression:"formData.family_address_detail"}}),i("van-field",{ref:"now",attrs:{label:"现住址",required:"",readonly:"",placeholder:"请选择现住址",clearable:""},on:{"click-input":function(t){return e.showArea("now")}},model:{value:e.formData.now,callback:function(t){e.$set(e.formData,"now",t)},expression:"formData.now"}}),i("van-field",{ref:"now_address",attrs:{label:"详细住址",required:"",maxlength:"100",placeholder:"请输入现所在街道、门牌号等",clearable:""},model:{value:e.formData.now_address_detail,callback:function(t){e.$set(e.formData,"now_address_detail",t)},expression:"formData.now_address_detail"}}),i("van-field",{ref:"commonContactName",attrs:{label:"紧急联系人",required:"",placeholder:"请输入紧急联系人",clearable:""},model:{value:e.formData.commonContactName,callback:function(t){e.$set(e.formData,"commonContactName",t)},expression:"formData.commonContactName"}}),i("van-field",{ref:"commonContactTel",attrs:{label:"紧急联系电话",required:"",placeholder:"请输入紧急联系人电话",clearable:""},model:{value:e.formData.commonContactTel,callback:function(t){e.$set(e.formData,"commonContactTel",t)},expression:"formData.commonContactTel"}})],1),i("div",{staticClass:"table"},[i("div",{staticClass:"tableTitle",staticStyle:{padding:"0"}},[i("span",{staticStyle:{"margin-left":"15px"}},[e._v("教育经历(从专/本科填起)")])]),e._l(e.education_info,(function(t,n){return i("div",{key:n+"education_info",staticClass:"list"},[i("div",{staticClass:"van-cell van-field"},[i("span",{staticClass:"van-cell__title van-field__label"},[e._v("时间")]),i("div",{staticStyle:{display:"inline-block","text-align":"left"}},[i("span",{staticStyle:{"min-width":"50px"},on:{click:function(t){return e.showTableChange("education_info",n,"start_date")}}},[e._v(e._s(t.start_date)+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.start_date,expression:"!item.start_date"}],staticStyle:{color:"#C8C9CC"}},[e._v("选择开始时间")])]),i("span",{staticStyle:{margin:"0 10px 0 15px"}},[e._v("至")]),e._v(" "),i("span",{on:{click:function(t){return e.showTableChange("education_info",n,"end_date")}}},[e._v(e._s(t.end_date)+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.end_date,expression:"!item.end_date"}],staticStyle:{color:"#C8C9CC"}},[e._v("选择结束时间")])])])]),i("van-field",{attrs:{label:"毕业院校",placeholder:"请输入毕业院校",clearable:""},model:{value:t.school,callback:function(a){e.$set(t,"school",a)},expression:"item.school"}}),i("van-field",{attrs:{label:"专业",placeholder:"请输入专业名称",clearable:""},model:{value:t.specialty,callback:function(a){e.$set(t,"specialty",a)},expression:"item.specialty"}}),i("van-field",{attrs:{label:"学历",placeholder:"请选择学历",readonly:"",clearable:""},on:{"click-input":function(t){return e.showxueliPopHandle(n)}},model:{value:t.education_background,callback:function(a){e.$set(t,"education_background",a)},expression:"item.education_background"}}),i("div",{staticClass:"van-cell van-field"},[i("span",{staticClass:"van-cell__title van-field__label"},[e._v("证书上传")]),i("div",{staticStyle:{display:"flex","align-items":"center",height:"100px"}},[t.uploadImgList[0]["url"]?e._e():i("van-uploader",{attrs:{multiple:"",disabled:e.isLoadingZhengshuEducation,"preview-image":!1,"max-count":1,"before-delete":function(t){e.deletezhengshu(t,n)},"after-read":function(t){e.afterReadEducation(t,n)}}}),t.uploadImgList[0]["url"]?i("div",{staticStyle:{position:"relative"}},[i("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.uploadImgList[0]["url"],alt:""},on:{click:function(a){return e.yulan(t.uploadImgList[0]["url"])}}}),i("img",{staticStyle:{position:"absolute",right:"-8px",top:"-8px",width:"20px"},attrs:{src:a("cd5c"),alt:""},on:{click:function(t){return e.delZhengshuEducation(n)}}})]):e._e(),i("van-loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingZhengshuEducation,expression:"isLoadingZhengshuEducation"}],attrs:{type:"spinner"}})],1)]),i("div",{staticStyle:{display:"flex",height:"40px"}},[i("div",{staticStyle:{flex:"1","border-right":"1px solid #ebedf0",height:"100%"},on:{click:function(t){return e.addTable("education_info",n)}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"add-o",size:"1.5rem",color:"#646566"}})],1),i("div",{staticStyle:{flex:"1",height:"100%","line-height":"40px"},on:{click:function(t){return e.delTab(n,"education_info")}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"delete",size:"1.5rem",color:"#646566"}})],1)])],1)}))],2),i("div",{staticClass:"table"},[i("div",{staticClass:"tableTitle"},[e._v("工作经历(当前单位不填)")]),e._l(e.job_history,(function(t,a){return i("div",{key:a+"job_history",staticClass:"list"},[i("div",{staticClass:"van-cell van-field"},[i("span",{staticClass:"van-cell__title van-field__label"},[e._v("时间")]),i("div",{staticStyle:{display:"inline-block","text-align":"left"}},[i("span",{staticStyle:{"min-width":"50px"},on:{click:function(t){return e.showTableChange("job_history",a,"start_date")}}},[e._v(e._s(t.start_date)+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.start_date,expression:"!item.start_date"}],staticStyle:{color:"#C8C9CC"}},[e._v("选择开始时间")])]),i("span",{staticStyle:{margin:"0 10px 0 15px"}},[e._v("至")]),e._v(" "),i("span",{on:{click:function(t){return e.showTableChange("job_history",a,"end_date")}}},[e._v(e._s(t.end_date)),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.end_date,expression:"!item.end_date"}],staticStyle:{color:"#C8C9CC"}},[e._v("选择结束时间")])])])]),i("van-field",{attrs:{label:"单位名称",placeholder:"请输入单位名称",clearable:""},model:{value:t.company,callback:function(a){e.$set(t,"company",a)},expression:"item.company"}}),i("van-field",{attrs:{label:"职务",placeholder:"请输入职务",clearable:""},model:{value:t.post,callback:function(a){e.$set(t,"post",a)},expression:"item.post"}}),i("van-field",{attrs:{rows:"4",autosize:"",label:"工作描述",type:"textarea",maxlength:200,placeholder:"请输入工作描述(200字以内)"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}}),i("div",{staticStyle:{display:"flex",height:"40px"}},[i("div",{staticStyle:{flex:"1","border-right":"1px solid #ebedf0",height:"100%","line-height":"40px"},on:{click:function(t){return e.addTable("job_history",a)}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"add-o",size:"1.5rem",color:"#646566"}})],1),i("div",{staticStyle:{flex:"1",height:"100%","line-height":"40px"},on:{click:function(t){return e.delTab(a,"job_history")}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"delete",size:"1.5rem",color:"#646566"}})],1)])],1)}))],2),i("div",{staticClass:"table"},[i("div",{staticClass:"tableTitle"},[e._v("个人证书")]),e._l(e.credentials_info,(function(t,n){return i("div",{key:n+"credentials_info",staticClass:"list"},[i("van-field",{attrs:{label:"证书名称",placeholder:"请输入证书名称",clearable:""},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}}),i("van-field",{attrs:{label:"证书编号",placeholder:"请输入证书编号",clearable:""},model:{value:t.certificate_number,callback:function(a){e.$set(t,"certificate_number",a)},expression:"item.certificate_number"}}),i("div",{staticClass:"van-cell van-field"},[i("span",{staticClass:"van-cell__title van-field__label"},[e._v("获取时间")]),i("div",{staticStyle:{display:"inline-block","text-align":"left"},on:{click:function(t){return e.showPopup("credentials_info",n)}}},[i("span",[e._v(e._s(t.get_date||"")+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.get_date,expression:"!item.get_date"}],staticStyle:{color:"#C8C9CC"}},[e._v("选择获取时间")])])])]),i("div",{staticClass:"van-cell van-field"},[i("span",{staticClass:"van-cell__title van-field__label"},[e._v("证书上传")]),i("div",{staticStyle:{display:"flex","align-items":"center",height:"100px"}},[t.uploadImgList[0]["url"]?e._e():i("van-uploader",{attrs:{multiple:"",disabled:e.isLoadingZhengshu,"preview-image":!1,"max-count":1,"before-delete":function(t){e.deletezhengshu(t,n)},"after-read":function(t){e.afterRead(t,n)}}}),t.uploadImgList[0]["url"]?i("div",{staticStyle:{position:"relative"}},[i("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.uploadImgList[0]["url"],alt:""},on:{click:function(a){return e.yulan(t.uploadImgList[0]["url"])}}}),i("img",{staticStyle:{position:"absolute",right:"-8px",top:"-8px",width:"20px"},attrs:{src:a("cd5c"),alt:""},on:{click:function(t){return e.delZhengshu(n)}}})]):e._e(),i("van-loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingZhengshu,expression:"isLoadingZhengshu"}],attrs:{type:"spinner"}})],1)]),i("div",{staticStyle:{display:"flex",height:"40px"}},[i("div",{staticStyle:{flex:"1","border-right":"1px solid #ebedf0",height:"100%","line-height":"40px"},on:{click:function(t){return e.addTable("credentials_info",n)}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"add-o",size:"1.5rem",color:"#646566"}})],1),i("div",{staticStyle:{flex:"1",height:"100%","line-height":"40px"},on:{click:function(t){return e.delTab(n,"credentials_info")}}},[i("van-icon",{staticStyle:{"line-height":"40px"},attrs:{name:"delete",size:"1.5rem",color:"#646566"}})],1)])],1)}))],2),i("div",{staticStyle:{height:"50px"}}),i("div",{staticClass:"fixed"},[i("van-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:e.submit}},[e._v(" 提交 ")])],1)]),i("van-popup",{attrs:{position:"bottom"},on:{close:function(t){e.currentDate=new Date(1970,0,1)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("van-datetime-picker",{ref:"dataChose",attrs:{"cancel-button-text":"清空",type:"date",title:"选择年月日","min-date":e.minDateFull,"max-date":e.maxDateFull},on:{confirm:e.choseData,cancel:e.clearData},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),i("van-popup",{attrs:{position:"bottom"},on:{close:function(t){e.currentDate=new Date(1970,0)}},model:{value:e.showTable,callback:function(t){e.showTable=t},expression:"showTable"}},[i("van-datetime-picker",{ref:"nianyueChose",attrs:{"cancel-button-text":"清空",type:"year-month",title:"选择年月","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.choseTableData,cancel:e.clearTableData},model:{value:e.currentShort,callback:function(t){e.currentShort=t},expression:"currentShort"}})],1),i("van-popup",{attrs:{position:"bottom"},on:{close:e.closeArea},model:{value:e.showAreaPopup,callback:function(t){e.showAreaPopup=t},expression:"showAreaPopup"}},[i("van-area",{ref:"areaDialog",attrs:{title:"省市区选择",value:e.areaDefault,"cancel-button-text":"清空",loading:e.areaLoading,"area-list":e.areaList},on:{confirm:e.choseArea,cancel:e.clearArea,change:e.changeArea}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[i("van-loading",{staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)","z-index":"10000"},attrs:{color:"#1989fa"}}),i("van-overlay",{attrs:{show:!0},on:{click:function(t){e.show=!1}}})],1),i("van-popup",{class:{tree:e.treeShow},attrs:{round:"",position:"bottom"},model:{value:e.showPickerBoolean,callback:function(t){e.showPickerBoolean=t},expression:"showPickerBoolean"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,defaultIndex:e.defaultPickerNum,"cancel-button-text":"清空"},on:{confirm:e.changePickerData,cancel:e.clearPickerBoolean}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showxueliPop,callback:function(t){e.showxueliPop=t},expression:"showxueliPop"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:e.xueliList,"cancel-button-text":"清空选中内容"},on:{confirm:e.changexueli,cancel:e.clearInput}})],1)],1)},m=[],h=(a("a4d3"),a("e01a"),a("4160"),a("26e9"),a("a434"),a("0d03"),a("b0c0"),a("e25e"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("4795"),a("96cf"),a("1da1")),f=a("ade3"),p=a("28a2"),_=(a("99af"),a("ef2b")),g=(a("bc3a"),"http://192.168.1.172");function v(){return Object(_["a"])({url:"".concat(g,"/api/user_add"),method:"get"})}function b(e){return Object(_["a"])({url:"".concat(g,"/api/get_area_list?area_code=").concat(e),method:"get"})}function y(e){return Object(_["a"])({url:"".concat(g,"//api/upload_img"),method:"post",data:e})}function w(e){return Object(_["a"])({url:"".concat(g,"/api/user_add"),method:"post",data:e})}var D=[{name:"未婚"},{name:"已婚"},{name:"离异"},{name:"丧偶"}],k=[{name:"博士"},{name:"硕士"},{name:"本科"},{name:"专科"},{name:"高中"},{name:"初中"},{name:"小学"}],x=[{text:"群众",value:"群众"},{text:"中共党员",value:"中共党员"},{text:"共青团员",value:"共青团员"},{text:"中共预备党员",value:"中共预备党员"}],j=[{text:"A型",value:"A型"},{text:"B型",value:"B型"},{text:"O型",value:"O型"},{text:"AB型",value:"AB型"}],S=[{id:"01",name:"汉族"},{id:"02",name:"蒙古族"},{id:"03",name:"回族"},{id:"04",name:"藏族"},{id:"05",name:"维吾尔族"},{id:"06",name:"苗族"},{id:"07",name:"彝族"},{id:"08",name:"壮族"},{id:"09",name:"布依族"},{id:"10",name:"朝鲜族"},{id:"11",name:"满族"},{id:"12",name:"侗族"},{id:"13",name:"瑶族"},{id:"14",name:"白族"},{id:"15",name:"土家族"},{id:"16",name:"哈尼族"},{id:"17",name:"哈萨克族"},{id:"18",name:"傣族"},{id:"19",name:"黎族"},{id:"20",name:"傈僳族"},{id:"21",name:"佤族"},{id:"22",name:"畲族"},{id:"23",name:"高山族"},{id:"24",name:"拉祜族"},{id:"25",name:"水族"},{id:"26",name:"东乡族"},{id:"27",name:"纳西族"},{id:"28",name:"景颇族"},{id:"29",name:"柯尔克孜族"},{id:"30",name:"土族"},{id:"31",name:"达斡尔族"},{id:"32",name:"仫佬族"},{id:"33",name:"羌族"},{id:"34",name:"布朗族"},{id:"35",name:"撒拉族"},{id:"36",name:"毛难族"},{id:"37",name:"仡佬族"},{id:"38",name:"锡伯族"},{id:"39",name:"阿昌族"},{id:"40",name:"普米族"},{id:"41",name:"塔吉克族"},{id:"42",name:"怒族"},{id:"43",name:"乌孜别克族"},{id:"44",name:"俄罗斯族"},{id:"45",name:"鄂温克族"},{id:"46",name:"崩龙族"},{id:"47",name:"保安族"},{id:"48",name:"裕固族"},{id:"49",name:"京族"},{id:"50",name:"塔塔尔族"},{id:"51",name:"独龙族"},{id:"52",name:"鄂伦春族"},{id:"53",name:"赫哲族"},{id:"54",name:"门巴族"},{id:"55",name:"珞巴族"},{id:"56",name:"基诺族"}],T={data:function(){var e,t=window.localStorage.getItem("jhkyEmployeesMessage");if(t)var a=JSON.parse(t);else a={a:{url:""}};return e={showxueliPop:!1,showPickerBoolean:!1,pickType:"",defaultPickerNum:"",columns:["ces"],addressType:"",dataType:"",loading:!0,areaLoading:!0,tableTimeType:"",a:a.a,b:"未婚",jiguan:[],show:!1,showTable:!1,areaDefault:"",showAreaPopup:!1,marriageList:[],xueliList:[],nation:[],zhengzhimianmao:x,formData:{username:"",photo_id:"",role_id:"",role:"",department_id:"",department:"",nickname:"",mobile:"",surePwd:"",work_num:"",email:"",emailLater:"",id_card:"",sex:1,age:"",join_party_date:"",jiguan:"",province_code:"",city_code:"",truename:"",district_code:"",now_province_code:"",now_city_code:"",now_district_code:"",family:"",family_province_code:"",family_city_code:"",family_district_code:"",family_address_detail:"",blood_type:"",nation:"",zhengzhimianmao:"",xianzhuzhi:"",now:"",now_address_detail:"",commonContactName:"",commonContactTel:"",mark:"",join_date:"",leave_date:"",marriage:""},education_info:[{start_date:"",end_date:"",school:"",specialty:"",education_background:"",education_img_id:"",uploadImgList:[{url:""}]}],job_history:[{time:[],start_date:"",end_date:"",description:"",company:"",post:""}],credentials_info:[{title:"",certificate_number:"",get_date:"",certificate_img_id:"",uploadImgList:[{url:""}]}],areaList:{province_code:{},city_list:{},county_list:{}},isLoadingPhoto:!1,selectDataUrl:{},credentials_infoIndex:"",minDateFull:new Date(1970,0,1),maxDateFull:new Date,minDate:new Date(1970,0),maxDate:new Date,currentDate:new Date(1970,0,1),currentShort:new Date(1970,0),xuexing:j,treeShow:!1},Object(f["a"])(e,"b",[]),Object(f["a"])(e,"isLoadingZhengshu",!1),Object(f["a"])(e,"isLoadingZhengshuEducation",!1),Object(f["a"])(e,"showUploadPhoto",!0),Object(f["a"])(e,"showUploadZhengshu",!0),e},mounted:function(){document.title="晋环科源员工信息采集";var e=this,t=window.localStorage.getItem("jhkyEmployeesMessage");if(t){var a=JSON.parse(t);this.b=a,this.formData.photo_id=a.photo_id,this.formData.username=a.username,this.formData.role_id=a.role_id,this.formData.department_id=a.department_id,this.formData.nickname=a.truename,this.formData.work_num=a.work_num,this.formData.id_card=a.id_card,this.formData.nation=a.nation,this.formData.zhengzhimianmao=a.political_status,this.education_info=a.education_info,this.credentials_info=a.credentials_info,this.job_history=a.job_history,this.formData.mobile=a.mobile,this.formData.email=a.email,this.formData.commonContactName=a.emergency_contact[0].truename,this.formData.commonContactTel=a.emergency_contact[0].mobile,this.formData.now_address_detail=a.now_address_detail,this.formData.province_code=a.province_code,this.formData.city_code=a.city_code,this.formData.district_code=a.district_code,this.formData.now_province_code=a.now_province_code,this.formData.now_city_code=a.now_city_code,this.formData.now_district_code=a.now_district_code,this.formData.family_province_code=a.family_province_code,this.formData.family_city_code=a.family_city_code,this.formData.family_district_code=a.family_district_code,this.formData.join_date=a.join_date,this.formData.blood_type=a.blood_type,this.formData.family_address_detail=a.family_address_detail,this.formData.marriage=a.marriage,this.formData.role=a.role,this.formData.department=a.department,this.formData.jiguan=a.jiguan,this.formData.family=a.family,this.formData.now=a.now,this.a=a.a,this.formData.join_party_date=a.join_party_date}""==this.education_info&&(this.education_info=[{start_date:"",end_date:"",time:[],school:"",specialty:"",education_background:"",education_img_id:"",uploadImgList:[{url:""}]}]),""==this.job_history&&(this.job_history=[{time:[],start_date:"",end_date:"",description:"",company:"",post:""}]),""==this.credentials_info&&(this.credentials_info=[{title:"",certificate_number:"",get_date:"",certificate_img_id:"",uploadImgList:[{url:""}]}]),this["a"]["url"]&&(this["showUploadPhoto"]=!1),this.changeDataType(),this.getSelectData(),window.addEventListener("pagehide",(function(t){var a=e.formData,i={photo_id:a.photo_id,username:a.username,role_id:a.role_id,department_id:a.department_id,truename:a.nickname,work_num:a.work_num,id_card:a.id_card,nation:a.nation,political_status:a.zhengzhimianmao,education_info:e.education_info,credentials_info:e.credentials_info,job_history:e.job_history,mobile:a.mobile,remark:"",email:a.email,emergency_contact:[{truename:a.commonContactName,mobile:a.commonContactTel}],now_address_detail:a.now_address_detail,province_code:a.province_code+"",city_code:a.city_code+"",district_code:a.district_code+"",now_province_code:a.now_province_code+"",now_city_code:a.now_city_code+"",now_district_code:a.now_district_code+"",family_province_code:a.family_province_code+"",family_city_code:a.family_city_code+"",family_district_code:a.family_district_code+"",join_date:a.join_date,leave_date:"",blood_type:a.blood_type,family_address_detail:a.family_address_detail,marriage:a.marriage,role:a.role,department:a.department,jiguan:a.jiguan,family:a.family,now:a.now,a:e.a,join_party_date:a.join_party_date};e.a?i["a"]=e.a:i["a"]=[{url:""}],i.credentials_info.forEach((function(e,t){""==e.uploadImgList&&(i.credentials_info[t]["uploadImgList"]=[{url:""}])})),i.education_info.forEach((function(e,t){e.uploadImgList||(i.education_info[t]["uploadImgList"]=[{url:""}]),e.education_img_id||(i.education_info[t]["education_img_id"]="")}));var n=JSON.stringify(i);window.localStorage.setItem("jhkyEmployeesMessage",n)}))},created:function(){},methods:{clearLocalstorage:function(){var e=this;this.$dialog.confirm({title:"清除缓存",message:"是否删除本页缓存？"}).then((function(){window.localStorage.removeItem("jhkyEmployeesMessage"),e.$router.go(0),e.$toast("清除成功")}))["catch"]((function(){}))},getSelectData:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},{},{},t.next=5,v();case 5:i=t.sent,"00000"==i.data.code?(e.selectDataUrl=i.data.data,e.changeRole(),e.changeDepartment(),a["000000000000"]="请选择",e.selectDataUrl.province_list.forEach((function(e){a[e.area_code]=e.name})),e.areaList.province_list=a,e.areaLoading=!1,e.loading=!1):e.$toast("获取数据失败，请刷新");case 7:case"end":return t.stop()}}),t)})))()},changeDataType:function(){var e=this;k.forEach((function(t){var a={text:t.name,value:t.name};e.xueliList.push(a)})),D.forEach((function(t){var a={text:t.name,value:t.name};e.marriageList.push(a)})),S.forEach((function(t){var a={text:t.name,value:t.name};e.nation.push(a)}))},changeArea:function(e,t,a){var i=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},{},0!=a){e.next=12;break}if("请选择"!=t[0].name){e.next=5;break}e.next=10;break;case 5:return i.areaLoading=!0,e.next=8,b(t[0].code);case 8:o=e.sent,"00000"==o.data.code?(r=o.data.data[0].area_code,n[parseInt(r/1e10)+"00000000"]="请选择",o.data.data.forEach((function(e){n[e.area_code]=e.name})),i.areaList.city_list=n,i.areaLoading=!1):i.$toast("获取市级数据失败，请刷新");case 10:e.next=21;break;case 12:if(1!=a){e.next=21;break}if("请选择"!=t[1].name){e.next=16;break}e.next=21;break;case 16:return i.areaLoading=!0,e.next=19,b(t[1].code);case 19:o=e.sent,"00000"==o.data.code?(o.data.data.forEach((function(e){n[e.area_code]=e.name})),i.areaList.county_list=n,i.areaLoading=!1):i.$toast("获取县级数据失败，请刷新");case 21:case"end":return e.stop()}}),e)})))()},submit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.formData,""!=a.photo_id&&""!=a.username&&""!=a.role_id&&""!=a.department_id&&""!=a.nickname&&""!=a.mobile&&""!=a.id_card&&""!=a.join_date&&""!=a.province_code&&""!=a.city_code&&""!=a.district_code&&""!=a.nation&&""!=a.blood_type&&""!=a.zhengzhimianmao&&""!=a.marriage&&""!=a.family_province_code&&""!=a.family_city_code&&""!=a.family_district_code&&""!=a.family_address_detail&&""!=a.now_province_code&&""!=a.now_city_code&&""!=a.now_district_code&&""!=a.now_address_detail&&""!=a.commonContactName&&""!=a.commonContactTel?a.username.length>=6?e.checkPhone(a.mobile)?e.checkIdCard(a.id_card.trim())?e.checkPhone(a.commonContactTel)?(i=[],n=[],o=[],e.education_info.forEach((function(e,t){""==e.education_background&&""==e.end_date&&""==e.start_date&&""==e.specialty&&""==e.school&&""==e.education_img_id&&i.push(t)})),i.reverse(),i.forEach((function(t){e.education_info.splice(t,1)})),i=[],e.credentials_info.forEach((function(e,t){""==e.certificate_img_id&&""==e.certificate_number&&""==e.get_date&&""==e.title&&n.push(t)})),n.reverse(),n.forEach((function(t){e.credentials_info.splice(t,1)})),n=[],e.job_history.forEach((function(e,t){""==e.start_date&&""==e.post&&""==e.end_date&&""==e.description&&""==e.company&&o.push(t)})),o.reverse(),o.forEach((function(t){0!=parseInt(t)&&e.job_history.splice(t,1),e.job_history.splice(t,1)})),o=[],e.loading=!0,e.useSubmitApi()):(e.$toast("请输入正确的紧急联系人手机号"),e.$nextTick((function(t){e.$refs.commonContactTel.focus()}))):(e.$toast("请输入正确格式的身份证号"),e.$nextTick((function(t){e.$refs.id_card.focus()}))):(e.$toast("请输入正确格式的手机号"),e.$nextTick((function(t){e.$refs.mobile.focus()}))):(e.$toast("请输入6位数及以上的账号"),e.$nextTick((function(t){e.$refs.username.focus()}))):e.$toast("必填项不能为空");case 2:case"end":return t.stop()}}),t)})))()},useSubmitApi:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.credentials_info)),a.forEach((function(e){delete e.uploadImgList})),i=JSON.parse(JSON.stringify(e.education_info)),i.forEach((function(e){delete e.uploadImgList})),n=e.formData,o={photo_id:n.photo_id,username:n.username,role_id:n.role_id,department_id:n.department_id,truename:n.nickname,work_num:n.work_num,id_card:n.id_card,nation:n.nation,political_status:n.zhengzhimianmao,education_info:i,credentials_info:a,job_history:e.job_history,mobile:n.mobile,remark:"",email:n.email,emergency_contact:[{truename:n.commonContactName,mobile:n.commonContactTel}],now_address_detail:n.now_address_detail,province_code:n.province_code+"",city_code:n.city_code+"",district_code:n.district_code+"",now_province_code:n.now_province_code+"",now_city_code:n.now_city_code+"",now_district_code:n.now_district_code+"",family_province_code:n.family_province_code+"",family_city_code:n.family_city_code+"",family_district_code:n.family_district_code+"",join_date:n.join_date,leave_date:"",blood_type:n.blood_type,family_address_detail:n.family_address_detail,marriage:n.marriage,join_party_date:n.join_party_date},t.next=8,w(o);case 8:r=t.sent,"00000"==r.data.code?(o["role"]=n.role,o["department"]=n.department,o["jiguan"]=n.jiguan,o["family"]=n.family,o["now"]=n.now,o["a"]=n.a,c=JSON.stringify(o),window.localStorage.setItem("jhkyEmployeesMessage",c),setTimeout((function(){e.$router.replace("/success"),e.loading=!1}))):(e.loading=!1,e.$toast(r.data.msg));case 10:case"end":return t.stop()}}),t)})))()},showPicker:function(e){switch(this.showPickerBoolean=!0,e){case"role":this.columns=this.selectDataUrl.role_list;for(var t=0;t<this.selectDataUrl.role_list.length;t++)this.selectDataUrl.role_list[t].text==this.formData.role&&(this.defaultPickerNum=t);this.treeShow=!0;break;case"department":this.columns=this.selectDataUrl.department_list;for(var a=0;a<this.selectDataUrl.department_list.length;a++)this.selectDataUrl.department_list[a].text==this.formData.department&&(this.defaultPickerNum=a);this.treeShow=!0;break;case"nation":this.columns=this.nation;for(var i=0;i<this.nation.length;i++)this.nation[i].text==this.formData.nation&&(this.defaultPickerNum=i);this.treeShow=!1;break;case"blood_type":this.columns=this.xuexing;for(var n=0;n<this.xuexing.length;n++)this.xuexing[n].text==this.formData.blood_type&&(this.defaultPickerNum=n);this.treeShow=!1;break;case"zhengzhimianmao":this.columns=this.zhengzhimianmao;for(var o=0;o<this.zhengzhimianmao.length;o++)this.zhengzhimianmao[o].text==this.formData.zhengzhimianmao&&(this.defaultPickerNum=o);this.treeShow=!1;break;case"marriage":this.columns=this.marriageList;for(var r=0;r<this.marriageList.length;r++)this.marriageList[r].text==this.formData.marriage&&(this.defaultPickerNum=r);this.treeShow=!1;break}this.pickType=e},changePickerData:function(e){switch(this.pickType){case"role":this.formData.role_id=e.value,this.formData.role=e.text;break;case"department":this.formData.department_id=e.value,this.formData.department=e.text;break;case"nation":this.formData.nation=e.value;break;case"blood_type":this.formData.blood_type=e.value;break;case"zhengzhimianmao":this.formData.zhengzhimianmao=e.value;break;case"marriage":this.formData.marriage=e.value;break}this.showPickerBoolean=!1},clearPickerBoolean:function(){switch(this.pickType){case"role":this.formData.role_id="",this.formData.role="";break;case"department":this.formData.department_id="",this.formData.department="";break;case"nation":this.formData.nation="";break;case"blood_type":this.formData.blood_type="";break;case"zhengzhimianmao":this.formData.zhengzhimianmao="";break;case"marriage":this.formData.marriage="";break}this.showPickerBoolean=!1},showPopup:function(e,t){this.show=!0,this.dataType=e,this.credentials_infoIndex=t,"join_date"==e?(this.currentDate=new Date(this.formData.join_date),this.minDateFull=new Date(2015,0,1)):"join_party_date"==e?(this.currentDate=new Date(this.formData.join_party_date),this.minDateFull=new Date(1970,0,1)):(this.currentDate=new Date(this.credentials_info[t].get_date),this.minDateFull=new Date(1970,0,1))},showArea:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var i,n,o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.showAreaPopup=!0,t.$nextTick((function(){t.$refs.areaDialog.reset("000000000000")})),t.addressType=e,i=[{code:""},{code:""}],"jiguan"==e?(i[0].code=t.formData.province_code,i[1].code=t.formData.city_code):"family"==e?(i[0].code=t.formData.family_province_code,i[1].code=t.formData.family_city_code):"now"==e&&(i[0].code=t.formData.now_province_code,i[1].code=t.formData.now_city_code),n={},{},"请选择"!=i[0].name){a.next=9;break}a.next=14;break;case 9:return t.areaLoading=!0,a.next=12,b(i[0].code);case 12:o=a.sent,"00000"==o.data.code?(r=o.data.data[0].area_code,n[parseInt(r/1e10)+"00000000"]="请选择",o.data.data.forEach((function(e){n[e.area_code]=e.name})),t.areaList.city_list=n,t.areaLoading=!1,"jiguan"==e?t.areaDefault=t.formData.district_code:"family"==e?t.areaDefault=t.formData.family_district_code:"now"==e&&(t.areaDefault=t.formData.now_district_code)):t.$toast("获取市级数据失败，请刷新");case 14:if("请选择"!=i[1].name){a.next=17;break}a.next=22;break;case 17:return t.areaLoading=!0,a.next=20,b(i[1].code);case 20:o=a.sent,"00000"==o.data.code?(o.data.data.forEach((function(e){n[e.area_code]=e.name})),t.areaList.county_list=n,t.areaLoading=!1):t.$toast("获取县级数据失败，请刷新");case 22:case"end":return a.stop()}}),a)})))()},showTableChange:function(e,t,a){this.showTable=!0,this.tableTimeType={type:e,index:t,name:a},this.currentShort=new Date(this[e][t][a])},showxueliPopHandle:function(e){this.showxueliPop=!0,this.xueliIndex=e},onSubmit:function(){},choseData:function(e){var t,a,i,n=new Date(e);t=parseInt(n.getMonth()+1)<10?"0"+(n.getMonth()+1):parseInt(n.getMonth()+1),a=parseInt(n.getDate())<10?"0"+n.getDate():parseInt(n.getDate()),i=n.getFullYear()+"-"+t+"-"+a,"credentials_info"==this.dataType?this.$set(this.credentials_info[this.credentials_infoIndex],"get_date",i):this.formData[this.dataType]=i,this.currentDate=new Date(1970,0,1),this.show=!1},clearData:function(){"credentials_info"==this.dataType?this.$set(this.credentials_info[this.credentials_infoIndex],"get_date",""):this.formData[this.dataType]="",this.currentDate=new Date(1970,0,1),this.show=!1},delZhengshu:function(e){this.credentials_info[e]["uploadImgList"][0]["url"]="",this.credentials_info[e].certificate_img_id=""},delZhengshuEducation:function(e){this.education_info[e]["uploadImgList"][0]["url"]="",this.education_info[e].education_img_id=""},choseTableData:function(e){var t,a=this.tableTimeType,i=a.type,n=a.index,o=a.name,r=new Date(e);t=parseInt(r.getMonth()+1)<10?"0"+(r.getMonth()+1):r.getMonth()+1;var c=r.getFullYear()+"-"+t;if("start_date"==o&&this[i][n]["end_date"]){var s=new Date(this[i][n]["end_date"]).getTime(),l=new Date(c).getTime();l<s?(this[i][n][o]=c,this.currentShort=new Date(1970,0),this.showTable=!1):this.$toast("开始时间不能在结束时间之后")}else if("end_date"==o&&this[i][n]["start_date"]){s=new Date(c).getTime(),l=new Date(this[i][n]["start_date"]).getTime();l<s?(this[i][n][o]=c,this.currentShort=new Date(1970,0),this.showTable=!1):this.$toast("结束时间不能在开始时间之前")}else this[i][n][o]=c,this.currentShort=new Date(1970,0),this.showTable=!1},clearTableData:function(e){var t=this.tableTimeType,a=t.type,i=t.index,n=t.name;this[a][i][n]="",this.currentShort=new Date(1970,0),this.showTable=!1},choseArea:function(e){var t="",a="",i="",n="",o="",r="";e[0]&&(t=e[0].code,a=e[0].name,a="请选择"==a?t="":a),e[1]&&(i=e[1].code,n=e[1].name,n="请选择"==n?i="":n),e[2]&&(o=e[2].code,r=e[2].name,r="请选择"==r?o="":r),"now"==this.addressType&&(this.formData.now_province_code=t,this.formData.now_city_code=i,this.formData.now_district_code=o,this.formData.now=a+n+r+""),"jiguan"==this.addressType&&(this.formData.province_code=t,this.formData.city_code=i,this.formData.district_code=o,this.formData.jiguan=a+n+r+""),"family"==this.addressType&&(this.formData.family_province_code=t,this.formData.family_city_code=i,this.formData.family_district_code=o,this.formData.family=a+n+r+""),this.$refs.areaDialog.reset("000000000000"),this.areaDefault="",this.showAreaPopup=!1},clearArea:function(){"now"==this.addressType&&(this.formData.now_province_code="",this.formData.now_city_code="",this.formData.now_district_code="",this.formData.now=""),"jiguan"==this.addressType&&(this.formData.province_code="",this.formData.city_code="",this.formData.district_code="",this.formData.jiguan=""),"family"==this.addressType&&(this.formData.family_province_code="",this.formData.family_city_code="",this.formData.family_district_code="",this.formData.family=""),this.$refs.areaDialog.reset("000000000000"),this.areaDefault="",this.showAreaPopup=!1},closeArea:function(){this.$refs.areaDialog.reset("000000000000"),this.areaDefault=""},delPhoto:function(){this.a["url"]="",this.formData.photo_id="",this.showUploadPhoto=!0},checkIdCard:function(e){var t=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;if(t.test(e)){if(18==e.length){for(var a=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),i=new Array(1,0,10,9,8,7,6,5,4,3,2),n=0,o=0;o<17;o++)n+=e.substring(o,o+1)*a[o];var r=n%11,c=e.substring(17);return 2==r?"X"==c||"x"==c:c==i[r]}return!1}return!1},changeRole:function(){var e=[],t=function t(a){for(var i=0;i<a.length;i++)2==a[i].level?e.push({text:""+a[i].name,value:a[i].id}):3==a[i].level?e.push({text:"|——"+a[i].name,value:a[i].id}):4==a[i].level?e.push({text:"|————"+a[i].name,value:a[i].id}):5==a[i].level?e.push({text:"|——————"+a[i].name,value:a[i].id}):6==a[i].level?e.push({text:"|————————"+a[i].name,value:a[i].id}):e.push({text:a[i].name,value:a[i].id}),a[i].child&&t(a[i].child)};t(this.selectDataUrl.role_list),this.selectDataUrl.role_list=e,this.selectDataUrl.role_list.shift(),this.selectDataUrl.role_list.shift()},changeDepartment:function(){var e=[],t=function t(a){for(var i=0;i<a.length;i++)2==a[i].level?e.push({text:""+a[i].name,value:a[i].id}):3==a[i].level?e.push({text:"|——"+a[i].name,value:a[i].id}):4==a[i].level?e.push({text:"|————"+a[i].name,value:a[i].id}):e.push({text:a[i].name,value:a[i].id}),a[i].child&&t(a[i].child)};t(this.selectDataUrl.department_list),this.selectDataUrl.department_list=e,this.selectDataUrl.department_list.shift()},yulan:function(e){Object(p["a"])({images:[e],closeable:!0})},checkPhone:function(e){if(""!=e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return!!t.test(e)}return!0},changexueli:function(e){this.education_info[this.xueliIndex]["education_background"]=e.value,this.showxueliPop=!1},clearInput:function(){this.education_info[this.xueliIndex]["education_background"]="",this.showxueliPop=!1},checkEmail:function(e){if(""!=e){var t=/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/;return!!t.test(e)}return!0},addTable:function(e,t){switch(e){case"education_info":var a={start_date:"",end_date:"",time:[],school:"",specialty:"",education_background:"",education_img_id:"",uploadImgList:[{url:""}]};this[e].splice(t+1,0,a);break;case"job_history":a={time:[],start_date:"",end_date:"",description:"",company:"",post:""};this[e].splice(t+1,0,a);break;case"credentials_info":a={title:"",certificate_number:"",get_date:"",certificate_img_id:"",uploadImgList:[{url:""}]};this[e].splice(t+1,0,a)}},delTab:function(e,t){var a=this;this[t].length>1?this.$dialog.confirm({title:"删除",message:"您确认要删除这条内容吗"}).then((function(){a[t].splice(e,1)}))["catch"]((function(){})):this.$toast("当前已经是最后一条")},checkUsername:function(e){return""==e||!(e.length<6)&&void 0},afterRead:function(e,t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.showUploadZhengshu=!1,n=new FormData,n.append("img",e.file),a.isLoadingZhengshu=!0,i.next=6,y(n);case 6:o=i.sent,"00000"==o.data.code?(a.isLoadingZhengshu=!1,a.credentials_info[t]["certificate_img_id"]=o.data.data.id,a.credentials_info[t]["uploadImgList"][0]["url"]=o.data.data.url):(a.$toast(o.data.msg),a.showUploadZhengshu=!0,a.isLoadingZhengshu=!1);case 8:case"end":return i.stop()}}),i)})))()},deletezhengshu:function(e,t){this.credentials_info[t]["certificate_img_id"]="",this.credentials_info[t]["uploadImgList"][0]={url:""},this.showUploadZhengshu=!0},afterReadEducation:function(e,t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.showUploadZhengshuEducation=!1,n=new FormData,n.append("img",e.file),a.isLoadingZhengshuEducation=!0,i.next=6,y(n);case 6:o=i.sent,"00000"==o.data.code?(a.isLoadingZhengshuEducation=!1,a.education_info[t]["education_img_id"]=o.data.data.id,a.education_info[t]["uploadImgList"][0]["url"]=o.data.data.url):(a.$toast(o.data.msg),a.showUploadZhengshuEducation=!0,a.isLoadingZhengshuEducation=!1);case 8:case"end":return i.stop()}}),i)})))()},photoEmployees:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.showUploadPhoto=!1,i=new FormData,i.append("img",e.file),t.isLoadingPhoto=!0,a.next=6,y(i);case 6:n=a.sent,"00000"==n.data.code?(t.isLoadingPhoto=!1,t.formData.photo_id=n.data.data.id,t.a={url:n.data.data.url}):(t.$toast(n.data.msg),t.showUploadPhoto=!0,t.isLoadingPhoto=!1);case 8:case"end":return a.stop()}}),a)})))()},deletePhoto:function(){this.formData.photo_id="",this.a=[],this.showUploadPhoto=!0}}},C=T,L=(a("cccb"),a("b5c6"),Object(r["a"])(C,u,m,!1,null,"6cc4e61c",null));L.exports;i["a"].use(d["a"]);var P=[{path:"/",redirect:"/ceshi"},{path:"/success",name:"Success",component:function(){return a.e("chunk-52799aea").then(a.bind(null,"bb0d"))}},{path:"/login",name:"login",component:function(){return a.e("chunk-28bb3c5e").then(a.bind(null,"9ed6"))}},{path:"/ceshi",name:"ceshi",component:function(){return a.e("chunk-1c618407").then(a.bind(null,"cd20"))}},{path:"/financial",name:"financial",component:function(){return a.e("chunk-29665654").then(a.bind(null,"f76f"))}},{path:"/group",name:"group",component:function(){return a.e("chunk-a5b083ae").then(a.bind(null,"a21f"))}},{path:"/monthlyWrite",name:"monthlyWrite",component:function(){return a.e("chunk-3ed030ba").then(a.bind(null,"4730"))}},{path:"/dailyWrite",name:"dailyWrite",component:function(){return a.e("chunk-c3e2665a").then(a.bind(null,"0590"))}},{path:"/weeklyWrite",name:"weeklyWrite",component:function(){return a.e("chunk-4c874e45").then(a.bind(null,"2126"))}},{path:"/groupCollect",name:"groupCollect",component:function(){return a.e("chunk-50883b6c").then(a.bind(null,"23a2"))}},{path:"/database",name:"database",component:function(){return Promise.all([a.e("chunk-a5b083ae"),a.e("chunk-2d21844d")]).then(a.bind(null,"c9ef"))}},{path:"/error",name:"error",component:function(){return a.e("chunk-01caaa18").then(a.bind(null,"0636"))}}],$=new d["a"]({mode:"history",base:"",routes:P}),z=$,E=a("b970"),I=(a("157a"),a("77ed")),A=a.n(I);i["a"].use(A.a),i["a"].use(E["a"]);var O=a("1149");i["a"].use(O),i["a"].config.productionTip=!1,new i["a"]({router:z,render:function(e){return e(l)}}).$mount("#app"),i["a"].prototype.$getLocationInfo=function(e){AMap.plugin("AMap.Geolocation",(function(){var t=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});function a(t){console.log(t),e({status:1,position:t.position,addressInfo:t.formattedAddress})}function i(t){e({status:0})}t.getCurrentPosition(),AMap.event.addListener(t,"complete",a),AMap.event.addListener(t,"error",i)}))}},"5ced":function(e,t,a){},"85ec":function(e,t,a){},a257:function(e,t,a){},b5c6:function(e,t,a){"use strict";a("a257")},cccb:function(e,t,a){"use strict";a("5ced")},cd5c:function(e,t,a){e.exports=a.p+"img/close.b4a818df.png"},ef2b:function(e,t,a){"use strict";var i=a("bc3a"),n=a.n(i),o=a("d399"),r=n.a.create({timeout:5e3});r.interceptors.response.use((function(e){if(console.log(),"200"==e.status)return e;o["a"].fail("请求失败，请联系管理员")})),t["a"]=r}});
//# sourceMappingURL=app.a29f9486.js.map